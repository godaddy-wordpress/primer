!function(i){var e=function(e){if(i&&i.ui&&i.ui.autocomplete){var n,a,o=i(e);o.on("keydown",function(){o.removeAttr("aria-activedescendant")}).autocomplete({source:function(e,t){if(a!==e.term){if(/^https?:/.test(e.term)||-1!==e.term.indexOf("."))return t();i.post(window.ajaxurl,{action:"wp-link-ajax",page:1,search:e.term,_ajax_linking_nonce:primer_hero_text_widget._ajax_linking_nonce},function(e){t(n=e)},"json"),a=e.term}else t(n)},focus:function(e,t){o.attr("aria-activedescendant","mce-wp-autocomplete-"+t.item.ID),e.preventDefault()},select:function(e,t){return o.val(t.item.permalink),o.trigger("change"),!1},open:function(){o.attr("aria-expanded","true")},close:function(){o.attr("aria-expanded","false")},minLength:2,position:{my:"left top+2"}}).autocomplete("instance")._renderItem=function(e,t){return i('<li role="option" id="primer-hero-autocomplete-'+t.ID+'">').append("<span>"+t.title+'</span>&nbsp;<span style="float:right">'+t.info+"</span>").appendTo(e)},o.attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-owns":o.autocomplete("widget").attr("id")}).on("focus",function(){var e=o.val();e&&!/^https?:/.test(e)&&o.autocomplete("search")}).autocomplete("widget").attr("role","listbox").removeAttr("tabindex").on("menufocus",function(e,t){t.item.attr("aria-selected","true")}).on("menublur",function(){i(this).find('[aria-selected="true"]').removeAttr("aria-selected")})}};function t(){i(".primer-hero-text-widget input.link").each(function(){e(this)})}i(document).ready(t),i(document).on("primer.widgets.change",t)}(jQuery);