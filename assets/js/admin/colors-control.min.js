!function(a,b){function c(){var c=a("color_scheme"),g=c();i||("_custom"!==g&&(h=g,b("#customize-control-color_scheme select").append(b("<option></option>").val("_custom").html(colorSchemes._custom.label)),a("color_scheme").set("_custom")),g=_.isNull(h)?"default":h);var j=_.clone(colorSchemes[g].colors),k={};_.each(j,function(b,c){var e=a(c);"undefined"!=typeof e&&(e=e(),j[c]=e,k[c]=d(e))}),_.isEqual(j,colorSchemes[g].colors)&&a("color_scheme").set(g),a.previewer.send("primer-update-colors-css",e(j)),a.previewer.send("primer-update-colors-css-rgba",f(k))}function d(a){a=a.replace("#","");var b=parseInt(a.substring(0,2),16),c=parseInt(a.substring(2,4),16),d=parseInt(a.substring(4,6),16);return b+", "+c+", "+d}var e=wp.template("primer-colors-css"),f=wp.template("primer-colors-css-rgba"),g=[],h=null,i=!1;_.each(colorSchemes.default.colors,function(a,b){g.push(b)}),a.controlConstructor.select=a.Control.extend({ready:function(){if("color_scheme"!==this.id)return!1;var c=a(this.id)();"_custom"!==c&&b('#customize-control-color_scheme select option[value="_custom"]').remove(),this.setting.bind("change",function(c){"_custom"!==c&&(b('#customize-control-color_scheme select option[value="_custom"]').remove(),i=!0,_.each(colorSchemes[c].colors,function(b,c){var d=a(c);"undefined"!=typeof d&&(d.set(b),a.control(c).container.find(".color-picker-hex").data("data-default-color",b).wpColorPicker("defaultColor",b))}),i=!1)})}}),_.each(g,function(b){a(b,function(a){a.bind(c)})})}(wp.customize,jQuery);