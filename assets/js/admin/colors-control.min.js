!function(o,e){function c(){var c=o("color_scheme")();i||("_custom"!==c&&(n=c,e("#customize-control-color_scheme select").append(e("<option></option>").val("_custom").html(colorSchemes._custom.label)),o("color_scheme").set("_custom")),c=_.isNull(n)?"default":n);var l=_.clone(colorSchemes[c].colors),u={};_.each(l,function(e,c){var r=o(c);void 0!==r&&(r=r(),l[c]=r,u[c]=t(r))}),_.isEqual(l,colorSchemes[c].colors)&&o("color_scheme").set(c),o.previewer.send("primer-update-colors-css",r(l)),o.previewer.send("primer-update-colors-css-rgba",s(u))}function t(o){return o=o.replace("#",""),parseInt(o.substring(0,2),16)+", "+parseInt(o.substring(2,4),16)+", "+parseInt(o.substring(4,6),16)}var r=wp.template("primer-colors-css"),s=wp.template("primer-colors-css-rgba"),l=[],n=null,i=!1;_.each(colorSchemes.default.colors,function(o,e){l.push(e)}),o.controlConstructor.select=o.Control.extend({ready:function(){if("color_scheme"!==this.id)return!1;"_custom"!==o(this.id)()&&e('#customize-control-color_scheme select option[value="_custom"]').remove(),this.setting.bind("change",function(c){"_custom"!==c&&(e('#customize-control-color_scheme select option[value="_custom"]').remove(),e("#customize-control-display_header_text").find("input").is(":checked")||(delete colorSchemes[c].colors.header_textcolor,delete colorSchemes[c].colors.tagline_text_color),i=!0,_.each(colorSchemes[c].colors,function(e,c){var t=o(c);void 0!==t&&(t.set(e),o.control(c).container.find(".color-picker-hex").data("data-default-color",e).wpColorPicker("defaultColor",e))}),i=!1)})}}),_.each(l,function(e){o(e,function(o){o.bind(c)})})}(wp.customize,jQuery);