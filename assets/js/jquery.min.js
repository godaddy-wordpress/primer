!function(a,b,c,d,e){var f=a("<div>")[0],g=/url\(["']?(.*?)["']?\)/,h=[],i={top:0,left:0,bottom:1,right:1,center:.5};if(!("backgroundSize"in f.style)||a.debugBGS){a.cssHooks.backgroundSize={set:function(b,c){var d,e,f,g=!a.data(b,"bgsImg");a.data(b,"bgsValue",c),g?(h.push(b),a.refreshBackgroundDimensions(b,!0),e=a("<div>").css({position:"absolute",zIndex:-1,top:0,right:0,left:0,bottom:0,overflow:"hidden"}),f=a("<img>").css({position:"absolute"}).appendTo(e),e.prependTo(b),a.data(b,"bgsImg",f[0]),d=(a.css(b,"backgroundPosition")||a.css(b,"backgroundPositionX")+" "+a.css(b,"backgroundPositionY")).split(" "),a.data(b,"bgsPos",[i[d[0]]||parseFloat(d[0])/100,i[d[1]]||parseFloat(d[1])/100]),"auto"==a.css(b,"zIndex")&&(b.style.zIndex=0),"static"==a.css(b,"position")&&(b.style.position="relative"),a.refreshBackgroundImage(b)):a.refreshBackground(b)},get:function(b){return a.data(b,"bgsValue")||""}},a.cssHooks.backgroundImage={set:function(b,c){return a.data(b,"bgsImg")?a.refreshBackgroundImage(b,c):c}},a.refreshBackgroundDimensions=function(b,c){var d=a(b),e={width:d.innerWidth(),height:d.innerHeight()},f=a.data(b,"bgsDim"),g=!f||e.width!=f.width||e.height!=f.height;a.data(b,"bgsDim",e),g&&!c&&a.refreshBackground(b)},a.refreshBackgroundImage=function(b,c){var d=a.data(b,"bgsImg"),e=(g.exec(c||a.css(b,"backgroundImage"))||[])[1],f=d&&d.src,h=e!=f;h&&(d.style.height=d.style.width="auto",d.onload=function(){var c={width:d.width,height:d.height};1==c.width&&1==c.height||(a.data(b,"bgsImgDim",c),a.data(b,"bgsConstrain",!1),a.refreshBackground(b),d.style.visibility="visible",d.onload=null)},d.style.visibility="hidden",d.src=e,(d.readyState||d.complete)&&(d.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",d.src=e),b.style.backgroundImage="none")},a.refreshBackground=function(b){var c,e,f=a.data(b,"bgsValue"),g=a.data(b,"bgsDim"),h=a.data(b,"bgsImgDim"),i=a(a.data(b,"bgsImg")),j=a.data(b,"bgsPos"),k=a.data(b,"bgsConstrain"),l=g.width/g.height,m=h.width/h.height;"contain"==f?m>l?(a.data(b,"bgsConstrain",c="width"),e=d.floor((g.height-g.width/m)*j[1]),i.css({top:e}),c!=k&&i.css({width:"100%",height:"auto",left:0})):(a.data(b,"bgsConstrain",c="height"),e=d.floor((g.width-g.height*m)*j[0]),i.css({left:e}),c!=k&&i.css({height:"100%",width:"auto",top:0})):"cover"==f&&(m>l?(a.data(b,"bgsConstrain",c="height"),e=d.floor((g.height*m-g.width)*j[0]),i.css({left:-e}),c!=k&&i.css({height:"100%",width:"auto",top:0})):(a.data(b,"bgsConstrain",c="width"),e=d.floor((g.width/m-g.height)*j[1]),i.css({top:-e}),c!=k&&i.css({width:"100%",height:"auto",left:0})))};var j,k,l,m=a.event,n={_:0},o=0;j=m.special.throttledresize={setup:function(){a(this).on("resize",j.handler)},teardown:function(){a(this).off("resize",j.handler)},handler:function(b,c){var d=this,e=arguments;k=!0,l||(a(n).animate(n,{duration:1/0,step:function(){o++,(o>j.threshold&&k||c)&&(b.type="throttledresize",m.dispatch.apply(d,e),k=!1,o=0),o>9&&(a(n).stop(),l=!1,o=0)}}),l=!0)},threshold:1},a(b).on("throttledresize",function(){a(h).each(function(){a.refreshBackgroundDimensions(this)})})}}(jQuery,window,document,Math);